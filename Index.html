<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" integrity="sha512-..." crossorigin="anonymous" />
    <link rel="manifest" href="/manifest.json">
</head>



<style>




.sidebar {
    position: fixed;
    top: 0;
    left: -200px; /* Initially hide the sidebar off-screen */
    height: 100%;
    width: 200px; /* Adjust sidebar width as needed */
    background-color: #007BFF;
    color: white;
    padding: 20px;
    border-radius: 0 8px 8px 0; /* Rounded corners on the right side */
    z-index: 1000;
    overflow-y: auto;
    transition: left 0.3s ease; /* Smooth transition for sliding effect */
}

.sidebar.visible {
    left: 0; /* Slide sidebar into view */
}

.sidebar h2 {
    margin-bottom: 20px;
    text-align: center;
}

.sidebar button {
    margin-bottom: 10px;
    padding: 10px;
    border: none;
    background-color: #0056b3;
    color: white;
    border-radius: 5px;
    cursor: pointer;
    width: 100%;
    text-align: left;
}

.sidebar button:hover {
    background-color: #004080;
}



.toggle-sidebar {
    position: absolute;
    left: 20px; /* Adjust button position */
    top: 20px;
    background-color: #007BFF;
    color: white;
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    z-index: 1001;
}

.toggle-sidebar:hover {
    background-color: #00aab3;
}

body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background-color: #f4f4f4;
}
/* Add responsive styles here */
.container {
    width: 90%;
    max-width: 1200px;
    background: white;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    border-radius: 8px;
    overflow-x: auto; /* Allow horizontal scroll on small screens */
}

header {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    justify-content: space-between;
    align-items: center;
    margin-bottom: 10px;
}
header .left-buttons {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    align-items: center;
    margin-bottom: 10px;
}

header .left-buttons {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

header .export-buttons {
    display: flex;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    justify-content: flex-start;
    margin-top: 10px;
}

header .export-buttons button {
    margin-right: 5px;
    padding: 5px 10px;
    border: none;
    background-color: #007BFF;
    color: white;
    border-radius: 5px;
    cursor: pointer;
}

header .export-buttons button:hover {
    background-color: #0056b3;
}

header .search-input {
    display: flex;
    align-items: center;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    margin-top: 5px;
}

header .search-input input[type="text"] {
    padding: 5px;
    margin-bottom: 5px;
}

header button {
    margin-top: 5px;
    padding: 5px 10px;
    border: none;
    background-color: #007BFF;
    color: white;
    border-radius: 5px;
    cursor: pointer;
}

header button:hover {
    background-color: #0056b3;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    overflow-x: auto; /* Allow horizontal scroll on small screens */
}

table, th, td {
    border: 1px solid #ddd;
}

th, td {
    padding: 10px;
    text-align: left;
}

th {
    background-color: #f2f2f2;
}

.status-completed {
    background-color: green;
    padding: 5px 10px;
    border-radius: 5px;
    color: black;
}

.status-incomplete {
    background-color: red;
    padding: 5px 10px;
    border-radius: 5px;
    color: black;
}

.status-in-progress {
    background-color: yellow;
    padding: 5px 10px;
    border-radius: 5px;
    color: black;
}

.action-buttons button {
    margin-right: 5px;
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    color: white;
}

.action-buttons .edit-btn {
    background-color: rgb(0, 132, 255);
}

.action-buttons .delete-btn {
    background-color: red;
}

.action-buttons .file-attach-btn {
    background-color: orange;
}

.action-buttons button i {
    margin-right: 5px;
}

.action-buttons button:hover {
    opacity: 0.8;
}

/* Modal Styles */
.modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
    padding-top: 60px;
}

.modal-content {
    background-color: #fefefe;
    margin: 5% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 600px;
    border-radius: 10px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

form {
    display: flex;
    flex-direction: column;
}

form label {
    margin-top: 10px;
}

form input, form select, form button {
    padding: 10px;
    margin-top: 5px;
}

@media screen and (max-width: 768px) {
    .container {
        padding: 10px;
    }
    header .left-buttons {
        flex-direction: column;
        align-items: flex-start;
    }
    header .export-buttons {
        justify-content: flex-start;
    }
    header .search-input {
        flex-direction: column;
        align-items: flex-start;
    }
    table {
        overflow-x: auto;
    }
}
@media screen and (max-width: 480px) {
    .container {
        padding: 5px;
    }
    header .left-buttons button,
    header .export-buttons button,
    header button,
    header .search-input input[type="text"] {
        padding: 5px;
        font-size: 12px;
    }
    table {
        font-size: 12px;
    }
}


</style>
<body>
    <div class="sidebar visible">
        <h2>Menu</h2>
        <a href="./Index.html"><button>Task Management</button></a>
        <a href="./PHPprogrammingtask.html"><button>PHP Task</button></a>
    </div>
    <div class="container">
        
        <header>
            <div class="left-buttons">
                <button id="new-task-btn">Assign New Task</button>
                <div class="export-buttons">
                    <button id="copy-btn">Copy</button>
                    <button id="excel-btn">Excel</button>
                    <button id="csv-btn">CSV</button>
                    <button id="pdf-btn">PDF</button>
                </div>
            </div>
            <h1>Task Management</h1>
            <div class="search-input">
                <input type="text" id="search" placeholder="Search tasks...">
            </div>
            <!-- Toggle Sidebar Button -->
            
        </header>

        <table>
            <thead>
                <tr>
                    <th>Number</th>
                    <th>Task Title</th>
                    <th>Assigned To</th>
                    <th>Start Time</th>
                    <th>End Time</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="task-table-body">
                <!-- Task rows will be added here dynamically -->
            </tbody>
        </table>
    </div>

    <div id="task-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <form id="task-form">
                <label for="task-title">Task Title:</label>
                <input type="text" id="task-title" name="task-title" required>

                <label for="assigned-to">Assigned To:</label>
                <input type="text" id="assigned-to" name="assigned-to" required>

                <label for="start-time">Start Time:</label>
                <input type="datetime-local" id="start-time" name="start-time" required>

                <label for="end-time">End Time:</label>
                <input type="datetime-local" id="end-time" name="end-time" required>

                <label for="status">Status:</label>
                <select id="status" name="status" required>
                    <option value="completed">Completed</option>
                    <option value="incomplete">Incomplete</option>
                    <option value="in-progress">In Progress</option>
                </select>

                <label for="priority">Priority:</label>
                <select id="priority" name="priority" required>
                    <option value="high">High</option>
                    <option value="medium">Medium</option>
                    <option value="low">Low</option>
                </select>

                <button type="submit">Add Task</button>
            </form>
        </div>
    </div>

    <button class="toggle-sidebar" onclick="toggleSidebar()">Toggle Sidebar</button>

    <script>

function toggleSidebar() {
            const sidebar = document.querySelector('.sidebar');
            sidebar.classList.toggle('visible');
            sidebar.classList.toggle('hidden');
        }



document.getElementById('new-task-btn').addEventListener('click', function() {
    // Show the task modal
    document.getElementById('task-modal').style.display = 'block';
});

document.getElementsByClassName('close')[0].addEventListener('click', function() {
    // Hide the task modal when close button is clicked
    document.getElementById('task-modal').style.display = 'none';
});

window.addEventListener('click', function(event) {
    const modal = document.getElementById('task-modal');
    if (event.target == modal) {
        // Hide the task modal when clicked outside the modal
        modal.style.display = 'none';
    }
});

// Function to handle editing a task
function editTask(taskRow) {
    const taskId = taskRow.querySelector('td:first-child').textContent; // Assuming the first column contains task ID or number
    const taskTitle = taskRow.querySelector('td:nth-child(2)').textContent; // Assuming the second column contains task title
    const assignedTo = taskRow.querySelector('td:nth-child(3)').textContent; // Assuming the third column contains assigned user
    const startTime = taskRow.querySelector('td:nth-child(4)').textContent; // Assuming the fourth column contains start time
    const endTime = taskRow.querySelector('td:nth-child(5)').textContent; // Assuming the fifth column contains end time
    const status = taskRow.querySelector('td:nth-child(6)').textContent.trim().toLowerCase(); // Assuming the sixth column contains status

    // Populate the form fields for editing
    const taskForm = document.getElementById('task-form');
    taskForm['task-id'].value = taskId;
    taskForm['task-title'].value = taskTitle;
    taskForm['assigned-to'].value = assignedTo;
    taskForm['start-time'].value = startTime;
    taskForm['end-time'].value = endTime;
    taskForm['status'].value = status;

    // Show the modal for editing
    document.getElementById('task-modal').style.display = 'block';
}

// Function to handle attaching a file to a task
function attachFile(taskRow) {
    const taskId = taskRow.querySelector('td:first-child').textContent; // Assuming the first column contains task ID or number
    console.log('Attaching file to task ID:', taskId);
}

// Function to handle deleting a task
function deleteTask(taskRow) {
    const confirmDelete = confirm('Are you sure you want to delete this task?');
    if (confirmDelete) {
        taskRow.remove(); // Remove the task row from the table
        console.log('Deleting task:', taskRow);
    }
}

// Event listener for submitting the task form
const taskForm = document.getElementById('task-form');
taskForm.addEventListener('submit', function(event) {
    event.preventDefault();
    const taskData = {
        number: document.getElementById('task-table-body').children.length + 1,
        title: taskForm['task-title'].value,
        assignedTo: taskForm['assigned-to'].value,
        startTime: taskForm['start-time'].value,
        endTime: taskForm['end-time'].value,
        status: taskForm['status'].value,
        priority: taskForm['priority'].value,
    };
    addTask(taskData);
    document.getElementById('task-modal').style.display = 'none';
    taskForm.reset();
});

// Function to add a new task to the table
function addTask(task) {
    const taskTableBody = document.getElementById('task-table-body');
    const row = document.createElement('tr');
    
    let statusClass = '';
    if (task.status === 'completed') {
        statusClass = 'status-completed';
    } else if (task.status === 'incomplete') {
        statusClass = 'status-incomplete';
    } else if (task.status === 'in-progress') {
        statusClass = 'status-in-progress';
    }

    row.innerHTML = `
        <td>${task.number}</td>
        <td>${task.title}</td>
        <td>${task.assignedTo}</td>
        <td>${task.startTime}</td>
        <td>${task.endTime}</td>
        <td class="${statusClass}">${task.status}</td>
        <td class="action-buttons">
            <button class="edit-btn" title="Edit Task" onclick="editTask(this.closest('tr'))"><i class="fas fa-edit fa-lg"></i></button>
            <button class="file-attach-btn" title="Attach File" onclick="attachFile(this.closest('tr'))"><i class="fas fa-paperclip fa-lg"></i></button>
            <button class="delete-btn" title="Delete Task" onclick="deleteTask(this.closest('tr'))"><i class="fas fa-trash-alt fa-lg"></i></button>
        </td>
    `;

    taskTableBody.appendChild(row);
}


if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker registered with scope:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Service Worker registration failed:', error);
                    });
            });
        }

    </script>
</body>
</html>
